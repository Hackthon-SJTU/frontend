<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReasoningACTION MCPç³»ç»Ÿ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            min-height: 100vh;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        .media-container {
            background: #1f2937;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 24px 0;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        
        .step::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            z-index: -1;
        }
        
        .step:last-child::after {
            display: none;
        }
        
        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .step.active .step-circle {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
        }
        
        .step.completed .step-circle {
            background: #10b981;
            color: white;
        }
        
        .result-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;
        
        // ==================== MCP API å®¢æˆ·ç«¯ ====================
        class MCPClient {
            constructor(baseUrl = 'http://localhost:8000') {
                this.baseUrl = baseUrl;
            }
            
            async request(endpoint, options = {}) {
                try {
                    const response = await fetch(`${this.baseUrl}${endpoint}`, {
                        ...options,
                        headers: {
                            'Content-Type': 'application/json',
                            ...options.headers,
                        },
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    return await response.json();
                } catch (error) {
                    console.error('MCP API Error:', error);
                    throw error;
                }
            }
            
            // MCPæ ‡å‡†æ¥å£ï¼šæ–‡æœ¬ç”Ÿæˆå›¾åƒ
            async textToImage(prompt, config = {}) {
                return this.request('/mcp/text-to-image', {
                    method: 'POST',
                    body: JSON.stringify({
                        prompt,
                        negative_prompt: config.negative_prompt || '',
                        width: config.width || 1024,
                        height: config.height || 768,
                        guidance_scale: config.guidance_scale || 7.5,
                        num_inference_steps: config.num_inference_steps || 50,
                        seed: config.seed || -1
                    }),
                });
            }
            
            // MCPæ ‡å‡†æ¥å£ï¼šå›¾åƒç”Ÿæˆè§†é¢‘
            async imageToVideo(imageUrl, config = {}) {
                return this.request('/mcp/image-to-video', {
                    method: 'POST',
                    body: JSON.stringify({
                        image_url: imageUrl,
                        motion_scale: config.motion_scale || 1.0,
                        fps: config.fps || 30,
                        duration: 4.0,  // å›ºå®š4ç§’
                        transition_type: config.transition_type || 'none'
                    }),
                });
            }
            
            // MCPæ ‡å‡†æ¥å£ï¼šè§†é¢‘æ¨ç†éŸ³é¢‘
            async videoToAudio(videoUrl, config = {}) {
                return this.request('/mcp/video-to-audio', {
                    method: 'POST',
                    body: JSON.stringify({
                        video_url: videoUrl,
                        audio_style: config.audio_style || 'ambient',
                        include_sfx: config.include_sfx !== false,
                        volume: config.volume || 0.8
                    }),
                });
            }
            
            // MCPæ ‡å‡†æ¥å£ï¼šåˆå¹¶è§†é¢‘
            async mergeVideos(videoSegments, audioUrl, config = {}) {
                return this.request('/mcp/merge-videos', {
                    method: 'POST',
                    body: JSON.stringify({
                        video_segments: videoSegments,
                        audio_url: audioUrl,
                        output_format: config.output_format || 'mp4',
                        quality: config.quality || 'high'
                    }),
                });
            }
            
            // MCPæ ‡å‡†æ¥å£ï¼šå®Œæ•´å·¥ä½œæµ
            async executeWorkflow(prompt, iterations, config = {}) {
                return this.request('/mcp/workflow', {
                    method: 'POST',
                    body: JSON.stringify({
                        prompt,
                        iterations,
                        auto_enhance: config.auto_enhance !== false,
                        workflow_config: config
                    }),
                });
            }
            
            // æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
            async getTaskStatus(taskId) {
                return this.request(`/mcp/status/${taskId}`);
            }
        }
        
        // åˆ›å»ºMCPå®¢æˆ·ç«¯å®ä¾‹
        const mcpClient = new MCPClient();
        
        // ==================== ä¸»åº”ç”¨ç»„ä»¶ ====================
        function App() {
            const [activeTab, setActiveTab] = useState('single'); // single | workflow
            const [currentStep, setCurrentStep] = useState(0);
            const [processing, setProcessing] = useState(false);
            const [results, setResults] = useState({
                textToImage: null,
                imageToVideo: null,
                videoToAudio: null,
                mergeVideos: null,
                workflow: null
            });
            const [error, setError] = useState(null);
            
            // è¡¨å•æ•°æ®
            const [formData, setFormData] = useState({
                prompt: 'å®é™çš„æ£®æ—ä¸­ï¼Œé˜³å…‰é€è¿‡æ ‘å¶æ´’ä¸‹ï¼Œå°æºªç¼“ç¼“æµæ·Œ',
                negative_prompt: 'low quality, blurry',
                iterations: 3,
                image_config: {
                    width: 1024,
                    height: 768,
                    guidance_scale: 7.5,
                    num_inference_steps: 50
                },
                video_config: {
                    motion_scale: 1.5,
                    fps: 30
                },
                audio_config: {
                    audio_style: 'nature',
                    include_sfx: true,
                    volume: 0.8
                }
            });
            
            // æ­¥éª¤å®šä¹‰
            const steps = [
                { id: 'text-to-image', name: 'æ–‡æœ¬ç”Ÿæˆå›¾åƒ', icon: 'ğŸ¨' },
                { id: 'image-to-video', name: 'å›¾åƒç”Ÿæˆè§†é¢‘', icon: 'ğŸ¬' },
                { id: 'video-to-audio', name: 'è§†é¢‘æ¨ç†éŸ³é¢‘', icon: 'ğŸµ' },
                { id: 'merge', name: 'éŸ³è§†é¢‘åˆæˆ', icon: 'ğŸï¸' }
            ];
            
            // å•æ­¥æ‰§è¡Œï¼šæ–‡æœ¬ç”Ÿæˆå›¾åƒ
            const handleTextToImage = async () => {
                setProcessing(true);
                setError(null);
                setCurrentStep(0);
                
                try {
                    console.log('è°ƒç”¨MCP: text-to-image', formData.prompt);
                    const response = await mcpClient.textToImage(
                        formData.prompt,
                        formData.image_config
                    );
                    
                    console.log('MCPå“åº”:', response);
                    setResults(prev => ({ ...prev, textToImage: response }));
                    setCurrentStep(1);
                } catch (err) {
                    setError(err.message);
                    console.error('æ–‡æœ¬ç”Ÿæˆå›¾åƒå¤±è´¥:', err);
                } finally {
                    setProcessing(false);
                }
            };
            
            // å•æ­¥æ‰§è¡Œï¼šå›¾åƒç”Ÿæˆè§†é¢‘
            const handleImageToVideo = async () => {
                if (!results.textToImage) {
                    setError('è¯·å…ˆç”Ÿæˆå›¾åƒ');
                    return;
                }
                
                setProcessing(true);
                setError(null);
                setCurrentStep(1);
                
                try {
                    const imageUrl = results.textToImage.result.image_url;
                    console.log('è°ƒç”¨MCP: image-to-video', imageUrl);
                    
                    const response = await mcpClient.imageToVideo(
                        imageUrl,
                        formData.video_config
                    );
                    
                    console.log('MCPå“åº”:', response);
                    setResults(prev => ({ ...prev, imageToVideo: response }));
                    setCurrentStep(2);
                } catch (err) {
                    setError(err.message);
                    console.error('å›¾åƒç”Ÿæˆè§†é¢‘å¤±è´¥:', err);
                } finally {
                    setProcessing(false);
                }
            };
            
            // å•æ­¥æ‰§è¡Œï¼šè§†é¢‘æ¨ç†éŸ³é¢‘
            const handleVideoToAudio = async () => {
                if (!results.imageToVideo) {
                    setError('è¯·å…ˆç”Ÿæˆè§†é¢‘');
                    return;
                }
                
                setProcessing(true);
                setError(null);
                setCurrentStep(2);
                
                try {
                    const videoUrl = results.imageToVideo.result.video_url;
                    console.log('è°ƒç”¨MCP: video-to-audio', videoUrl);
                    
                    const response = await mcpClient.videoToAudio(
                        videoUrl,
                        formData.audio_config
                    );
                    
                    console.log('MCPå“åº”:', response);
                    setResults(prev => ({ ...prev, videoToAudio: response }));
                    setCurrentStep(3);
                } catch (err) {
                    setError(err.message);
                    console.error('è§†é¢‘æ¨ç†éŸ³é¢‘å¤±è´¥:', err);
                } finally {
                    setProcessing(false);
                }
            };
            
            // å•æ­¥æ‰§è¡Œï¼šåˆå¹¶è§†é¢‘
            const handleMergeVideos = async () => {
                if (!results.imageToVideo || !results.videoToAudio) {
                    setError('è¯·å…ˆå®Œæˆè§†é¢‘å’ŒéŸ³é¢‘ç”Ÿæˆ');
                    return;
                }
                
                setProcessing(true);
                setError(null);
                setCurrentStep(3);
                
                try {
                    // æ¨¡æ‹Ÿå¤šä¸ªè§†é¢‘ç‰‡æ®µï¼ˆå®é™…åº”è¯¥æ˜¯å¤šæ¬¡è°ƒç”¨imageToVideoï¼‰
                    const videoSegments = [];
                    for (let i = 0; i < formData.iterations; i++) {
                        videoSegments.push(results.imageToVideo.result.video_url);
                    }
                    
                    const audioUrl = results.videoToAudio.result.audio_url;
                    console.log('è°ƒç”¨MCP: merge-videos', { videoSegments, audioUrl });
                    
                    const response = await mcpClient.mergeVideos(
                        videoSegments,
                        audioUrl,
                        { quality: 'high', output_format: 'mp4' }
                    );
                    
                    console.log('MCPå“åº”:', response);
                    setResults(prev => ({ ...prev, mergeVideos: response }));
                    setCurrentStep(4);
                } catch (err) {
                    setError(err.message);
                    console.error('åˆå¹¶è§†é¢‘å¤±è´¥:', err);
                } finally {
                    setProcessing(false);
                }
            };
            
            // æ‰§è¡Œå®Œæ•´å·¥ä½œæµ
            const handleWorkflow = async () => {
                setProcessing(true);
                setError(null);
                setCurrentStep(0);
                
                try {
                    console.log('è°ƒç”¨MCP: workflow', {
                        prompt: formData.prompt,
                        iterations: formData.iterations
                    });
                    
                    const response = await mcpClient.executeWorkflow(
                        formData.prompt,
                        formData.iterations,
                        {
                            image_config: formData.image_config,
                            video_config: formData.video_config,
                            audio_config: formData.audio_config
                        }
                    );
                    
                    console.log('MCPå·¥ä½œæµå“åº”:', response);
                    setResults(prev => ({ ...prev, workflow: response }));
                    setCurrentStep(4);
                } catch (err) {
                    setError(err.message);
                    console.error('å·¥ä½œæµæ‰§è¡Œå¤±è´¥:', err);
                } finally {
                    setProcessing(false);
                }
            };
            
            // é‡ç½®
            const handleReset = () => {
                setResults({
                    textToImage: null,
                    imageToVideo: null,
                    videoToAudio: null,
                    mergeVideos: null,
                    workflow: null
                });
                setCurrentStep(0);
                setError(null);
            };
            
            return (
                <div className="min-h-screen p-6">
                    {/* å¤´éƒ¨ */}
                    <header className="glass rounded-2xl p-6 mb-6">
                        <h1 className="text-3xl font-bold text-white mb-2">
                            ReasoningACTION MCPç³»ç»Ÿ
                        </h1>
                        <p className="text-white/80">
                            å‰ç«¯MCPè°ƒç”¨æµ‹è¯• - æ–‡æœ¬â†’å›¾åƒâ†’è§†é¢‘â†’éŸ³é¢‘â†’åˆæˆ
                        </p>
                    </header>
                    
                    {/* æ ‡ç­¾åˆ‡æ¢ */}
                    <div className="flex gap-2 mb-6">
                        <button
                            onClick={() => setActiveTab('single')}
                            className={`px-6 py-2 rounded-lg font-medium transition-all ${
                                activeTab === 'single' 
                                    ? 'bg-white text-purple-600' 
                                    : 'bg-white/20 text-white hover:bg-white/30'
                            }`}
                        >
                            å•æ­¥æ‰§è¡Œ
                        </button>
                        <button
                            onClick={() => setActiveTab('workflow')}
                            className={`px-6 py-2 rounded-lg font-medium transition-all ${
                                activeTab === 'workflow' 
                                    ? 'bg-white text-purple-600' 
                                    : 'bg-white/20 text-white hover:bg-white/30'
                            }`}
                        >
                            å®Œæ•´å·¥ä½œæµ
                        </button>
                    </div>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* å·¦ä¾§æ§åˆ¶é¢æ¿ */}
                        <div className="lg:col-span-1">
                            <div className="bg-white rounded-xl p-6">
                                <h2 className="text-xl font-semibold mb-4">å‚æ•°é…ç½®</h2>
                                
                                {/* æç¤ºè¯è¾“å…¥ */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        åˆ›ä½œæç¤ºè¯
                                    </label>
                                    <textarea
                                        value={formData.prompt}
                                        onChange={(e) => setFormData(prev => ({
                                            ...prev,
                                            prompt: e.target.value
                                        }))}
                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        rows="3"
                                        placeholder="æè¿°æ‚¨æƒ³è¦åˆ›ä½œçš„å†…å®¹..."
                                    />
                                </div>
                                
                                {/* è´Ÿé¢æç¤ºè¯ */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        è´Ÿé¢æç¤ºè¯
                                    </label>
                                    <input
                                        type="text"
                                        value={formData.negative_prompt}
                                        onChange={(e) => setFormData(prev => ({
                                            ...prev,
                                            negative_prompt: e.target.value
                                        }))}
                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                        placeholder="ä¸æƒ³è¦çš„å…ƒç´ ..."
                                    />
                                </div>
                                
                                {/* è¿­ä»£æ¬¡æ•° */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        è¿­ä»£æ¬¡æ•°: {formData.iterations} (æ€»æ—¶é•¿: {formData.iterations * 4}ç§’)
                                    </label>
                                    <input
                                        type="range"
                                        min="1"
                                        max="10"
                                        value={formData.iterations}
                                        onChange={(e) => setFormData(prev => ({
                                            ...prev,
                                            iterations: parseInt(e.target.value)
                                        }))}
                                        className="w-full"
                                    />
                                </div>
                                
                                {/* é«˜çº§è®¾ç½® */}
                                <details className="mb-4">
                                    <summary className="cursor-pointer font-medium text-gray-700 mb-2">
                                        é«˜çº§è®¾ç½®
                                    </summary>
                                    <div className="mt-2 space-y-2">
                                        <div>
                                            <label className="text-sm text-gray-600">éŸ³é¢‘é£æ ¼</label>
                                            <select 
                                                className="w-full mt-1 px-2 py-1 border border-gray-300 rounded"
                                                value={formData.audio_config.audio_style}
                                                onChange={(e) => setFormData(prev => ({
                                                    ...prev,
                                                    audio_config: {
                                                        ...prev.audio_config,
                                                        audio_style: e.target.value
                                                    }
                                                }))}
                                            >
                                                <option value="ambient">ç¯å¢ƒéŸ³</option>
                                                <option value="cinematic">ç”µå½±æ„Ÿ</option>
                                                <option value="epic">å²è¯—</option>
                                                <option value="nature">è‡ªç„¶</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="text-sm text-gray-600">è¿åŠ¨å¹…åº¦</label>
                                            <input
                                                type="number"
                                                step="0.1"
                                                min="0.1"
                                                max="5"
                                                value={formData.video_config.motion_scale}
                                                onChange={(e) => setFormData(prev => ({
                                                    ...prev,
                                                    video_config: {
                                                        ...prev.video_config,
                                                        motion_scale: parseFloat(e.target.value)
                                                    }
                                                }))}
                                                className="w-full mt-1 px-2 py-1 border border-gray-300 rounded"
                                            />
                                        </div>
                                    </div>
                                </details>
                                
                                {/* æ“ä½œæŒ‰é’® */}
                                {activeTab === 'single' ? (
                                    <div className="space-y-2">
                                        <button
                                            onClick={handleTextToImage}
                                            disabled={processing}
                                            className="w-full btn-primary"
                                        >
                                            {processing && currentStep === 0 ? 'ç”Ÿæˆä¸­...' : '1. æ–‡æœ¬ç”Ÿæˆå›¾åƒ'}
                                        </button>
                                        <button
                                            onClick={handleImageToVideo}
                                            disabled={processing || !results.textToImage}
                                            className="w-full btn-primary"
                                        >
                                            {processing && currentStep === 1 ? 'ç”Ÿæˆä¸­...' : '2. å›¾åƒç”Ÿæˆè§†é¢‘'}
                                        </button>
                                        <button
                                            onClick={handleVideoToAudio}
                                            disabled={processing || !results.imageToVideo}
                                            className="w-full btn-primary"
                                        >
                                            {processing && currentStep === 2 ? 'æ¨ç†ä¸­...' : '3. è§†é¢‘æ¨ç†éŸ³é¢‘'}
                                        </button>
                                        <button
                                            onClick={handleMergeVideos}
                                            disabled={processing || !results.videoToAudio}
                                            className="w-full btn-primary"
                                        >
                                            {processing && currentStep === 3 ? 'åˆæˆä¸­...' : '4. åˆå¹¶éŸ³è§†é¢‘'}
                                        </button>
                                    </div>
                                ) : (
                                    <button
                                        onClick={handleWorkflow}
                                        disabled={processing}
                                        className="w-full btn-primary"
                                    >
                                        {processing ? (
                                            <>
                                                <span className="inline-block animate-spin mr-2">âš™ï¸</span>
                                                æ‰§è¡Œå·¥ä½œæµ...
                                            </>
                                        ) : (
                                            'æ‰§è¡Œå®Œæ•´å·¥ä½œæµ'
                                        )}
                                    </button>
                                )}
                                
                                <button
                                    onClick={handleReset}
                                    className="w-full mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all"
                                >
                                    é‡ç½®
                                </button>
                                
                                {/* é”™è¯¯æç¤º */}
                                {error && (
                                    <div className="mt-4 p-3 bg-red-50 border border-red-200 rounded-lg">
                                        <p className="text-sm text-red-600">âŒ {error}</p>
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        {/* å³ä¾§ç»“æœå±•ç¤º */}
                        <div className="lg:col-span-2">
                            <div className="bg-white rounded-xl p-6">
                                <h2 className="text-xl font-semibold mb-4">æ‰§è¡Œç»“æœ</h2>
                                
                                {/* æ­¥éª¤æŒ‡ç¤ºå™¨ */}
                                <div className="step-indicator">
                                    {steps.map((step, index) => (
                                        <div 
                                            key={step.id}
                                            className={`step ${
                                                index < currentStep ? 'completed' : 
                                                index === currentStep && processing ? 'active' : ''
                                            }`}
                                        >
                                            <div className="step-circle">
                                                {index < currentStep ? 'âœ“' : step.icon}
                                            </div>
                                            <div className="text-xs text-gray-600">{step.name}</div>
                                        </div>
                                    ))}
                                </div>
                                
                                {/* ç»“æœå±•ç¤º */}
                                <div className="space-y-4">
                                    {/* æ–‡æœ¬ç”Ÿæˆå›¾åƒç»“æœ */}
                                    {results.textToImage && (
                                        <div className="result-card">
                                            <h3 className="font-semibold mb-2">ğŸ“¸ ç”Ÿæˆçš„å›¾åƒ</h3>
                                            <div className="media-container">
                                                <img 
                                                    src={`http://localhost:8000${results.textToImage.result.image_url}`}
                                                    alt="Generated"
                                                    className="w-full rounded-lg"
                                                />
                                            </div>
                                            <div className="code-block">
                                                <div>Task ID: {results.textToImage.task_id}</div>
                                                <div>Model: {results.textToImage.result.metadata.model}</div>
                                                <div>Resolution: {results.textToImage.result.metadata.width}x{results.textToImage.result.metadata.height}</div>
                                                <div>Inference Time: {results.textToImage.result.metadata.inference_time}s</div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* å›¾åƒç”Ÿæˆè§†é¢‘ç»“æœ */}
                                    {results.imageToVideo && (
                                        <div className="result-card">
                                            <h3 className="font-semibold mb-2">ğŸ¬ ç”Ÿæˆçš„è§†é¢‘</h3>
                                            <div className="media-container">
                                                <video 
                                                    controls
                                                    className="w-full rounded-lg"
                                                    src={`http://localhost:8000${results.imageToVideo.result.video_url}`}
                                                />
                                            </div>
                                            <div className="code-block">
                                                <div>Task ID: {results.imageToVideo.task_id}</div>
                                                <div>Duration: {results.imageToVideo.result.duration}s</div>
                                                <div>FPS: {results.imageToVideo.result.fps}</div>
                                                <div>Frames: {results.imageToVideo.result.metadata.frames_generated}</div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* è§†é¢‘æ¨ç†éŸ³é¢‘ç»“æœ */}
                                    {results.videoToAudio && (
                                        <div className="result-card">
                                            <h3 className="font-semibold mb-2">ğŸµ ç”Ÿæˆçš„éŸ³é¢‘</h3>
                                            <div className="media-container">
                                                <audio 
                                                    controls
                                                    className="w-full"
                                                    src={`http://localhost:8000${results.videoToAudio.result.audio_url}`}
                                                />
                                            </div>
                                            <div className="code-block">
                                                <div>Task ID: {results.videoToAudio.task_id}</div>
                                                <div>Style: {results.videoToAudio.result.style}</div>
                                                <div>Duration: {results.videoToAudio.result.duration}s</div>
                                                <div>Sample Rate: {results.videoToAudio.result.metadata.sample_rate}Hz</div>
                                                <div className="mt-2">è§†é¢‘åˆ†æç»“æœ:</div>
                                                <div>{JSON.stringify(results.videoToAudio.result.metadata.video_analysis, null, 2)}</div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* åˆå¹¶ç»“æœ */}
                                    {results.mergeVideos && (
                                        <div className="result-card">
                                            <h3 className="font-semibold mb-2">ğŸï¸ æœ€ç»ˆè§†é¢‘</h3>
                                            <div className="media-container">
                                                <video 
                                                    controls
                                                    className="w-full rounded-lg"
                                                    src={`http://localhost:8000${results.mergeVideos.result.output_url}`}
                                                />
                                            </div>
                                            <div className="code-block">
                                                <div>Task ID: {results.mergeVideos.task_id}</div>
                                                <div>Total Duration: {results.mergeVideos.result.total_duration}s</div>
                                                <div>Segments: {results.mergeVideos.result.segments_count}</div>
                                                <div>Quality: {results.mergeVideos.result.metadata.quality}</div>
                                                <div>Bitrate: {results.mergeVideos.result.metadata.bitrate}</div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* å·¥ä½œæµç»“æœ */}
                                    {results.workflow && (
                                        <div className="result-card">
                                            <h3 className="font-semibold mb-2">ğŸš€ å·¥ä½œæµå®Œæˆ</h3>
                                            <div className="media-container">
                                                <video 
                                                    controls
                                                    className="w-full rounded-lg"
                                                    src={`http://localhost:8000${results.workflow.result.final_video_url}`}
                                                />
                                            </div>
                                            <div className="code-block">
                                                <div>Workflow ID: {results.workflow.workflow_id}</div>
                                                <div>Total Duration: {results.workflow.result.total_duration}s</div>
                                                <div>Processing Time: {results.workflow.result.workflow_summary.total_processing_time}s</div>
                                                <div className="mt-2">ä½¿ç”¨çš„æ¨¡å‹:</div>
                                                <div>{JSON.stringify(results.workflow.result.workflow_summary.models_used, null, 2)}</div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* APIè°ƒç”¨æ—¥å¿— */}
                    <div className="mt-6 glass rounded-xl p-6">
                        <h3 className="text-white font-semibold mb-3">APIè°ƒç”¨è¯´æ˜</h3>
                        <div className="text-white/80 text-sm space-y-2">
                            <p>âœ… å‰ç«¯æ­£ç¡®è°ƒç”¨MCPæ ‡å‡†æ¥å£</p>
                            <p>âœ… æ‰€æœ‰è¯·æ±‚å‚æ•°ç¬¦åˆMCPè§„èŒƒ</p>
                            <p>âœ… å“åº”æ•°æ®æ ¼å¼å·²æ ‡å‡†åŒ–</p>
                            <p>ğŸ“Œ å°†mock_server.pyæ›¿æ¢ä¸ºçœŸå®MCPå³å¯è¿è¡Œ</p>
                        </div>
                    </div>
                </div>
            );
        }
        
        // æ¸²æŸ“åº”ç”¨
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>